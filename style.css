/* --- BARU: Class untuk menonaktifkan scroll --- */
body.no-scroll {
    overflow: hidden;
}

/* --- Pengaturan Dasar & Font --- */
:root {
    --primary-font: 'Montserrat', sans-serif;
    --heading-font: 'Great Vibes', cursive;
    --text-color: #333;
    --accent-color: #e94b8a;
    --light-accent-color: #ffd1e0;
    --dark-bg-color: #2c0e3a;
    --shadow-light: rgba(0, 0, 0, 0.08);
    --shadow-heavy: rgba(0, 0, 0, 0.2);
}

* { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
    font-family: var(--primary-font);
    color: var(--text-color);
    overflow-x: hidden;
    background: linear-gradient(135deg, #fdf6f8, #f8e1ec, #e8d0e3);
    background-size: 300% 300%;
    animation: backgroundShift 20s ease infinite alternate;
}

@keyframes backgroundShift {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}

/* --- Halaman Depan (Hero Section) --- */
.hero-section {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    color: white;
    position: relative;
    overflow: hidden;
    background: linear-gradient(to bottom, #d87093, #a24b7a);
}

.hero-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.4); z-index: 1;
}

.hero-content {
    z-index: 3; position: relative; max-width: 800px; padding: 20px;
}

.main-title {
    font-family: var(--heading-font); font-size: 5rem; line-height: 1.1; text-shadow: 0 4px 10px var(--shadow-heavy); margin-bottom: 20px; min-height: 100px;
}

.subtitle {
    font-size: 1.6rem; font-weight: 300; margin-top: 15px; opacity: 0; transform: translateY(20px); animation: fadeInUp 1s 2s forwards;
}

.cta-button {
    margin-top: 40px; padding: 18px 45px; font-size: 1.2rem; font-family: var(--primary-font); font-weight: 600; color: white; background-color: var(--accent-color); border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); transition: transform 0.3s ease, background-color 0.3s ease; opacity: 0; transform: translateY(20px); animation: fadeInUp 1s 2.5s forwards, pulse 2.5s infinite 3s;
}

.cta-button:hover {
    transform: scale(1.08) translateY(0); background-color: #ff69b4; animation-play-state: paused;
}

@keyframes pulse {
    0% { transform: scale(1) translateY(0); }
    50% { transform: scale(1.03) translateY(0); }
    100% { transform: scale(1) translateY(0); }
}

/* Foto-foto Melayang di Halaman Depan */
.floating-photos-container {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; perspective: 1000px; z-index: 2;
}

.floating-photo {
    position: absolute; width: 180px; height: 180px; object-fit: cover; border-radius: 8px; box-shadow: 0 10px 30px var(--shadow-heavy); animation: floatAndRotate 25s infinite ease-in-out; opacity: 0; transition: opacity 1.5s ease-out;
}
.floating-photo.visible { opacity: 0.7; }
.floating-photo:hover { opacity: 1; transform: scale(1.1); z-index: 10; }

.floating-photo:nth-child(1) { top: 10%; left: 5%; animation-delay: 0s; transform: rotate(5deg); }
.floating-photo:nth-child(2) { top: 60%; left: 15%; animation-delay: 5s; transform: rotate(-8deg); }
.floating-photo:nth-child(3) { top: 20%; right: 10%; animation-delay: 10s; transform: rotate(10deg); }
.floating-photo:nth-child(4) { top: 70%; right: 5%; animation-delay: 15s; transform: rotate(-3deg); }
.floating-photo:nth-child(5) { top: 40%; left: 40%; animation-delay: 20s; transform: rotate(12deg); }

@keyframes floatAndRotate {
    0% { transform: translateY(0px) rotate(var(--initial-rotation, 0deg)); }
    50% { transform: translateY(-30px) rotate(calc(var(--initial-rotation, 0deg) + 10deg)); }
    100% { transform: translateY(0px) rotate(var(--initial-rotation, 0deg)); }
}

/* Partikel (Halaman Depan) */
#particle-canvas {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none;
}
.particle {
    position: absolute; border-radius: 50%; background-color: var(--light-accent-color);
}

/* Kontainer Cerita (Album) */
.story-container {
    max-width: 1100px; margin: 100px auto; padding: 0 25px;
}

.story-block {
    display: flex; align-items: center; gap: 60px; margin-bottom: 150px; padding: 30px; background-color: rgba(255, 255, 255, 0.9); border-radius: 15px; box-shadow: 0 15px 40px var(--shadow-light); transform: translateY(50px); opacity: 0; transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.8s ease-out;
}

.story-block[data-animation="fade-right"] { flex-direction: row; }
.story-block[data-animation="fade-left"] { flex-direction: row-reverse; }
.layout-full-width { flex-direction: column; text-align: center; padding: 50px; }
.animate-on-scroll.is-visible { transform: translateY(0); opacity: 1; }

.story-image-wrapper, .story-image-full {
    flex: 1; min-width: 300px; position: relative; border-radius: 10px; overflow: hidden; box-shadow: 0 10px 25px var(--shadow-light); cursor: pointer; transition: transform 0.4s ease, box-shadow 0.4s ease;
}
.story-image-wrapper:hover, .story-image-full:hover {
    transform: scale(1.03); box-shadow: 0 15px 35px var(--shadow-heavy);
}

.story-image-wrapper img, .story-image-full img {
    width: 100%; display: block;
}
.story-image-wrapper img { height: 400px; object-fit: cover; }
.story-image-full img { height: 500px; object-fit: cover; }

.image-caption {
    position: absolute; bottom: 0; left: 0; width: 100%; background: linear-gradient(to top, rgba(0,0,0,0.6), transparent); color: white; padding: 30px 15px 15px 15px; font-size: 0.9em; text-align: center; opacity: 0; transition: opacity 0.4s ease;
}
.story-image-wrapper:hover .image-caption { opacity: 1; }

.story-text, .story-text-full { flex: 1; padding: 20px; }
.story-text h3, .story-text-full h3 {
    font-family: var(--heading-font); font-size: 2.8rem; color: var(--accent-color); margin-bottom: 20px; line-height: 1.2;
}
.story-text p, .story-text-full p {
    font-size: 1.1rem; line-height: 1.7; font-weight: 300; color: #555;
}
.story-image-full { width: 100%; margin-bottom: 30px; }

/* Footer & Modal */
.final-message {
    text-align: center; padding: 100px 20px; background-color: var(--dark-bg-color); color: white; box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.2);
}
.final-message h2 { font-family: var(--heading-font); font-size: 4rem; color: var(--light-accent-color); margin-bottom: 25px; }
.final-message p { font-size: 1.3rem; line-height: 1.8; max-width: 800px; margin: 0 auto 30px auto; font-weight: 300; }
.final-message .signature { font-family: var(--heading-font); font-size: 2.5rem; margin-top: 40px; color: var(--accent-color); text-shadow: 0 2px 5px rgba(0, 0, 0, 0.4); }

.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); backdrop-filter: blur(5px); }
.modal-content { margin: auto; display: block; max-width: 90%; max-height: 90%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); animation: zoomIn 0.3s; }
@keyframes zoomIn { from {transform: translate(-50%,-50%) scale(0.5)} to {transform: translate(-50%,-50%) scale(1)} }
.close-button { position: absolute; top: 20px; right: 35px; color: #fff; font-size: 40px; font-weight: bold; cursor: pointer; transition: color 0.3s; }
.close-button:hover { color: var(--accent-color); }

/* Animasi Umum */
@keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

/* Responsif untuk Mobile */
@media (max-width: 900px) {
    .main-title { font-size: 3.5rem; }
    .subtitle { font-size: 1.3rem; }
    .floating-photo { width: 120px; height: 120px; }
    .floating-photo:nth-child(5) { display: none; }
    .story-block, .story-block[data-animation="fade-left"], .story-block[data-animation="fade-right"] {
        flex-direction: column; gap: 30px;
    }
    .story-image-wrapper img { height: 300px; }
}